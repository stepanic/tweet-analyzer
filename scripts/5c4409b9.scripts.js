(function(){"use strict";angular.module("tweetAnalyzerApp",["ngCookies","ngResource","ngSanitize","ngRoute","highcharts-ng"]).config(["$routeProvider","$httpProvider",function(a,b){var c;return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"}),b.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",c=function(a){var b,d,e,f,g,h,i,j;g="",f=void 0,j=void 0,b=void 0,h=void 0,i=void 0,e=void 0,d=void 0;for(f in a)if(j=a[f],j instanceof Array)for(d=0;d<j.length;)i=j[d],b=f+"["+d+"]",e={},e[b]=i,g+=c(e)+"&",++d;else if(j instanceof Object)for(h in j)i=j[h],b=f+"["+h+"]",e={},e[b]=i,g+=c(e)+"&";else void 0!==j&&null!==j&&(g+=encodeURIComponent(f)+"="+encodeURIComponent(j)+"&");return g.length?g.substr(0,g.length-1):g},b.defaults.transformRequest=[function(a){return angular.isObject(a)&&"[object File]"!==String(a)?c(a):a}]}])}).call(this),function(){"use strict";angular.module("tweetAnalyzerApp").controller("MainCtrl",["$scope","$timeout","Analyzer",function(a,b,c){return a.model={},a.model.sources=[],a.model.analyzeAlgorithms=[{title:"SVM",value:0},{title:"Na¨ıve Bayes",value:1},{title:"k-NN",value:2}],a.model.analyzeAlgorithm=a.model.analyzeAlgorithms[1].value,a.model.classes={0:"Sport NEWS",1:"NEWS",2:"Private message",3:"Opinion",4:"Music"},a.isValid=!0,a.CheckValidation=function(){var b,c,d,e;for(e=a.model.sources,c=0,d=e.length;d>c;c++)if(b=e[c],null==b.howMany||null==b.title)return a.isValid=!1;return a.isValid=!0},a.AddNewSource=function(){return a.model.sources.push({title:null,howMany:null})},a.RemoveSource=function(b){return a.model.sources=a.model.sources.filter(function(a){return a!==b}),a.CheckValidation()},a.analyzeInProgress=null,a.StartAnalyze=function(){return a.isValid?(c.execute(a.model.sources,function(b){return a.model.tweets=b.data,a.RefreshGraph()}),a.analyzeInProgress=!0,b(function(){return a.analyzeInProgress=!1},1e3)):void 0},a.ResetAnalyze=function(){return a.analyzeInProgress=null,a.model.sources=[],a.model.tweets=[],a.RefreshGraph(),a.CheckValidation()},a.model.tweets=[],a.RefreshGraph=function(){var b,c,d,e;for(a.model.classesValues={0:0,1:0,2:0,3:0,4:0},e=a.model.tweets,c=0,d=e.length;d>c;c++)b=e[c],a.model.classesValues[b.class_id[a.model.analyzeAlgorithm]]++;return a.chartConfig.series=[{name:a.model.classes[0],data:[a.model.classesValues[0]]},{name:a.model.classes[1],data:[a.model.classesValues[1]]},{name:a.model.classes[2],data:[a.model.classesValues[2]]},{name:a.model.classes[3],data:[a.model.classesValues[3]]},{name:a.model.classes[4],data:[a.model.classesValues[4]]}]},a.model.classesValues={0:0,1:0,2:0,3:0,4:0},a.chartConfig={options:{chart:{type:"column"}},series:[{name:a.model.classes[0],data:[a.model.classesValues[0]]},{name:a.model.classes[1],data:[a.model.classesValues[1]]},{name:a.model.classes[2],data:[a.model.classesValues[2]]},{name:a.model.classes[3],data:[a.model.classesValues[3]]},{name:a.model.classes[4],data:[a.model.classesValues[4]]}],title:{text:""},xAxis:{categories:["Tweet Class"]},loading:!1}}])}.call(this),function(){"use strict";angular.module("tweetAnalyzerApp").service("Analyzer",["$http",function(a){return{execute:function(b,c){var d,e,f,g,h,i,j,k,l,m;for(i=[],f=[],j=0,k=b.length;k>j;j++)g=b[j],i.push(g.title),f.push(g.howMany);e={sources:i,how_many:f},l=e.sources;for(h in l)d=l[h],e.sources[h]="sources="+d;e.sources=e.sources.join("&"),m=e.how_many;for(h in m)d=m[h],e.how_many[h]="how_many="+d;return e.how_many=e.how_many.join("&"),a.post("http://tweet-analyzer.herokuapp.com/analyzer/",""+e.sources+"&"+e.how_many).success(c).error(function(a){console.log(a)})}}}])}.call(this);